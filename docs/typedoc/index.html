<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>nodejs-typescript-rest-boilerplate</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">nodejs-typescript-rest-boilerplate</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> nodejs-typescript-rest-boilerplate</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="node-js-rest-boilerplate-using-typescript">Node.js REST boilerplate using TypeScript</h1>
				<p>This boilerplate was written using Node.js with express framework, in TypeScript. It&#39;s using ES2016 when compiled.
				Alongside API endpoints, there are development tools for documenting API&#39;s available in the project:</p>
				<ul>
					<li>/docs - List of all available functions and parameters with comments</li>
					<li>/api-docs/swagger/#/ - Swagger instance with all available endpoints</li>
				</ul>
				<h2 id="installation">Installation</h2>
				<p>This boilerplate uses node.js and typescript. Ensure you have them installed globally.
				Clone the project and run</p>
				<pre><code>npm <span class="hljs-keyword">install</span></code></pre><p>With this command, all the required packages are installed. After this, project needs to be built</p>
				<pre><code>npm <span class="hljs-keyword">run</span><span class="bash"> build</span></code></pre><p>This command compiles project into javascript, runs tslint for errors, creates docs and runs all available tests.
				You can also run these scripts separately</p>
				<ul>
					<li>npm run test    <code>mocha -r ts-node/register app/controllers/*.test.ts</code></li>
					<li>tsc             <code>tsc</code></li>
					<li>npm run tslint  <code>tslint -c tslint.json &#39;app/**/*.ts&#39;</code></li>
					<li>npm run docs    <code>./node_modules/.bin/typedoc --out ./docs/typedoc --mode modules</code></li>
				</ul>
				<p>You can now run the project:</p>
				<pre><code><span class="hljs-built_in">npm</span> start</code></pre><h2 id="application-structure">Application structure</h2>
				<blockquote>
					<p>Folder structure options and naming conventions for rest api</p>
					<pre><code>.
├──app                  <span class="hljs-comment"># application logic</span>
│  ├──<span class="hljs-built_in">config</span>                <span class="hljs-comment"># application config files (database connection, logger, swagger, tsdoc)</span>
│  ├──controllers           <span class="hljs-comment"># entry point for requests, input validation</span>
│  │  ├──helpers                <span class="hljs-comment"># business logic</span>
│  ├──core                  <span class="hljs-comment"># bootstrap files</span>
│  ├──models                <span class="hljs-comment"># ORM models, mapped to database</span>
│  ├──services              <span class="hljs-comment"># shared repository</span>
│  └──app.ts                <span class="hljs-comment"># application entry point</span>
├──<span class="hljs-keyword">build </span>               <span class="hljs-comment"># compiled files</span>
├──docs                 <span class="hljs-comment"># generated documentation files</span>
├──logs                 <span class="hljs-comment"># log files</span>
├──node_modules         <span class="hljs-comment"># npm package dependencies</span>
├──.gitignore
├──tsconfig.<span class="hljs-keyword">json </span>       <span class="hljs-comment"># typescript configuration</span>
├──tslint.<span class="hljs-keyword">json </span>         <span class="hljs-comment"># tslint configuration</span>
├──package.<span class="hljs-keyword">json
</span>├──LICENCE
└──README.md</code></pre></blockquote>
				<h2 id="route-definitions">Route definitions</h2>
				<p>Routing is a bit specific, since our project is not using express framework&#39;s routing, but rather <code>routing-controller</code> package which allows us to use
				decorators for our routes. This way, our application structure doesn&#39;t have any need for route folder, and the code looks more like java/spring annotations.</p>
				<blockquote>
					<p>Here&#39;s an example of GET route:</p>
					<pre><code>    <span class="hljs-meta">@Get(<span class="hljs-meta-string">"/api/users"</span>)</span>
    <span class="hljs-keyword">public</span> getAllUsers(req: Request, res: Response, next: NextFunction) {
        <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">this</span>.testHelper.getAllUsers();
        loggerConfig.register().debug(<span class="hljs-string">"Users returned successfully"</span>);
        <span class="hljs-keyword">return</span> results;
    }</code></pre></blockquote>
				<h2 id="swagger-documentation">Swagger documentation</h2>
				<p>This project uses typescript implementation for swagger - <code>swagger-express-ts</code>. It puts decorators to a good use, as well as our routing. Small setback is that it uses
				different decorators than our routing, so it needs to be defined separately.</p>
				<blockquote>
					<p>Here is an entire example using swagger decorator with previous example using routing-controller:</p>
					<pre><code><span class="hljs-meta">@ApiOperationGet</span>({
<span class="hljs-symbol">        path:</span> <span class="hljs-string">"/users"</span>,
<span class="hljs-symbol">        description:</span> <span class="hljs-string">"Get all users from database"</span>,
<span class="hljs-symbol">        summary:</span> <span class="hljs-string">"Get all users from database using typeORM"</span>,
<span class="hljs-symbol">        responses:</span> {
<span class="hljs-symbol">            200:</span> {
<span class="hljs-symbol">                description:</span> <span class="hljs-string">"Success"</span>, <span class="hljs-string">type:</span> SwaggerDefinitionConstant.Response.Type.ARRAY, <span class="hljs-string">model:</span> <span class="hljs-string">"User"</span>,
            },
        },
    })
    <span class="hljs-meta">@Get</span>(<span class="hljs-string">"/api/users"</span>)
    <span class="hljs-keyword">public</span> getAllUsers(<span class="hljs-string">req:</span> Request, <span class="hljs-string">res:</span> Response, <span class="hljs-string">next:</span> NextFunction) {
        const results = <span class="hljs-keyword">this</span>.testHelper.getAllUsers();
        loggerConfig.register().debug(<span class="hljs-string">"Users returned successfully"</span>);
        <span class="hljs-keyword">return</span> results;
    }</code></pre><p>This library doesn&#39;t require any specific config file, it makes documentation on the run.</p>
				</blockquote>
				<h2 id="testing">Testing</h2>
				<p>For tests, this project uses <code>mocha</code> and <code>chai</code>. Tests are defined next to controllers, in the same folders. Thus, every controller has it&#39;s corresponding test.</p>
				<blockquote>
					<p>test.controller.ts - test.controller.test.ts
					Here&#39;s an example of one simple test</p>
					<pre><code>describe(<span class="hljs-string">"TEST API REQUEST"</span>, () =&gt; {
    it(<span class="hljs-string">"should return response an call"</span>, () =&gt; {
        return chai.request(<span class="hljs-name">app</span>).get(<span class="hljs-string">"/api/test"</span>)
            .then((<span class="hljs-name">res</span>) =&gt; {
                chai.expect(<span class="hljs-name">res</span>.body).to.eql({})<span class="hljs-comment">;</span>
            })<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span></code></pre></blockquote>
				<h2 id="plugins">Plugins</h2>
				<blockquote>
					<p>Here is a list of used NPM dependencies:</p>
				</blockquote>
				<table>
					<thead>
						<tr>
							<th align="left">Package</th>
							<th align="center">Version</th>
							<th align="center">Dev</th>
						</tr>
					</thead>
					<tbody><tr>
							<td align="left"><a href="https://www.npmjs.com/package/@types/chai">@types/chai</a></td>
							<td align="center"><strong>^4.1.7</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/@types/chai-http">@types/chai-http</a></td>
							<td align="center"><strong>^3.0.5</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/@types/es6-shim">@types/es6-shim</a></td>
							<td align="center"><strong>^0.31.38</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/@types/express">@types/express</a></td>
							<td align="center"><strong>^4.16.0</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/@types/mocha">@types/mocha</a></td>
							<td align="center"><strong>^5.2.5</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/@types/multer">@types/multer</a></td>
							<td align="center"><strong>^1.3.7</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/@types/swagger-ui-express">@types/swagger-ui-express</a></td>
							<td align="center"><strong>^3.0.0</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/body-parser">body-parser</a></td>
							<td align="center"><strong>^1.18.3</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/chai">chai</a></td>
							<td align="center"><strong>^4.2.0</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/chai-http">chai-http</a></td>
							<td align="center"><strong>^4.2.0</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/class-transformer">class-transformer</a></td>
							<td align="center"><strong>^0.1.9</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/class-validator">class-validator</a></td>
							<td align="center"><strong>^0.9.1</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/express">express</a></td>
							<td align="center"><strong>^4.16.4</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/mocha">mocha</a></td>
							<td align="center"><strong>^5.2.0</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/mysql">mysql</a></td>
							<td align="center"><strong>^2.16.0</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/path-resolve">path-resolve</a></td>
							<td align="center"><strong>0.0.1</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/reflect-metadata">reflect-metadata</a></td>
							<td align="center"><strong>^0.1.12</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/routing-controllers">routing-controllers</a></td>
							<td align="center"><strong>^0.7.7</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/swagger-express-ts">swagger-express-ts</a></td>
							<td align="center"><strong>^1.0.0</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/ts-log-debug">ts-log-debug</a></td>
							<td align="center"><strong>^4.0.4</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/ts-node">ts-node</a></td>
							<td align="center"><strong>^7.0.1</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/typeorm">typeorm</a></td>
							<td align="center"><strong>^0.2.8</strong></td>
							<td align="center">✖</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/typescript">typescript</a></td>
							<td align="center"><strong>^3.1.6</strong></td>
							<td align="center">✔</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/tslint">tslint</a></td>
							<td align="center"><strong>^5.11.0</strong></td>
							<td align="center">✔</td>
						</tr>
						<tr>
							<td align="left"><a href="https://www.npmjs.com/package/typedoc">typedoc</a></td>
							<td align="center"><strong>^0.13.0</strong></td>
							<td align="center">✔</td>
						</tr>
				</tbody></table>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_app_.html">"app"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_config_db_config_.html">"config/db.config"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_config_logger_config_.html">"config/logger.config"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_config_swagger_config_.html">"config/swagger.config"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_config_tsdoc_config_.html">"config/tsdoc.config"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_controllers_base_controller_.html">"controllers/base.controller"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_controllers_example_controller_.html">"controllers/example.controller"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_controllers_example_controller_test_.html">"controllers/example.controller.test"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_controllers_helpers_example_helper_.html">"controllers/helpers/example.helper"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_controllers_helpers_test_helper_.html">"controllers/helpers/test.helper"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_controllers_test_controller_.html">"controllers/test.controller"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_controllers_test_controller_test_.html">"controllers/test.controller.test"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_core_application_.html">"core/application"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_models_animal_.html">"models/<wbr>Animal"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_models_person_.html">"models/<wbr>Person"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_models_personpet_.html">"models/<wbr>Person<wbr>Pet"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_models_pet_.html">"models/<wbr>Pet"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_models_user_.html">"models/<wbr>User"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_routes_.html">"routes"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>